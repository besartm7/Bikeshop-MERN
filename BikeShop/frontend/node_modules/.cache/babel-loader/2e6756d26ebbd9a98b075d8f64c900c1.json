{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/realmadrid/Desktop/Bike-v3/BikeShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Button,Row,Col,Card}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{getItemspp,updateItemspp}from'../../actions/settingsAction';import{SETTING_ITEMSPP_UPDATE_RESET}from'../../constants/settingConstants';var Settings=function Settings(_ref){var history=_ref.history;var _useState=useState(10),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var settingItemspp=useSelector(function(state){return state.settingItemspp;});var itemspp=settingItemspp.items;var updateSettingItemspp=useSelector(function(state){return state.updateSettingItemspp;});var success=updateSettingItemspp.success;useEffect(function(){if(!userInfo||!userInfo.isAdmin){history.push('/login');}if(success){dispatch({type:SETTING_ITEMSPP_UPDATE_RESET});dispatch(getItemspp());}else{if(!itemspp||!itemspp.items){dispatch(getItemspp());}else{setItems(itemspp.items);}}},[dispatch,history,userInfo,itemspp,success]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateItemspp({itemspp:items}));};return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},children:/*#__PURE__*/_jsx(Card,{className:\"m-5\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Items per page:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Enter number\",value:items,onChange:function onChange(e){return setItems(e.target.value);}})]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",className:\"btn-dark btn-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save\"}),' ',\"Save\"]})]})]})})})});};export default Settings;","map":{"version":3,"sources":["C:/Users/realmadrid/Desktop/Bike-v3/BikeShop/frontend/src/layout/admin/Settings.js"],"names":["React","useState","useEffect","Form","Button","Row","Col","Card","useDispatch","useSelector","getItemspp","updateItemspp","SETTING_ITEMSPP_UPDATE_RESET","Settings","history","items","setItems","dispatch","userLogin","state","userInfo","settingItemspp","itemspp","updateSettingItemspp","success","isAdmin","push","type","submitHandler","e","preventDefault","span","offset","target","value"],"mappings":"oQAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,GAAvB,CAA4BC,GAA5B,CAAiCC,IAAjC,KAA6C,iBAA7C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,8BAA1C,CAEA,OAASC,4BAAT,KAA6C,kCAA7C,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,eACHb,QAAQ,CAAC,EAAD,CADL,wCACtBc,KADsB,eACfC,QADe,eAG5B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,CAAAA,SAAS,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAV,EAAN,CAA7B,CAL4B,GAMpBE,CAAAA,QANoB,CAMPF,SANO,CAMpBE,QANoB,CAQ5B,GAAMC,CAAAA,cAAc,CAAGZ,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACE,cAAV,EAAN,CAAlC,CAR4B,GASbC,CAAAA,OATa,CASDD,cATC,CASpBN,KAToB,CAW5B,GAAMQ,CAAAA,oBAAoB,CAAGd,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACI,oBAAV,EAAN,CAAxC,CAX4B,GAYpBC,CAAAA,OAZoB,CAYRD,oBAZQ,CAYpBC,OAZoB,CAc5BtB,SAAS,CAAC,UAAI,CACV,GAAG,CAACkB,QAAD,EAAa,CAACA,QAAQ,CAACK,OAA1B,CAAkC,CAC9BX,OAAO,CAACY,IAAR,CAAa,QAAb,EACH,CACD,GAAGF,OAAH,CAAW,CACPP,QAAQ,CAAC,CAAEU,IAAI,CAAEf,4BAAR,CAAD,CAAR,CACAK,QAAQ,CAACP,UAAU,EAAX,CAAR,CACH,CAHD,IAGK,CACD,GAAG,CAACY,OAAD,EAAY,CAACA,OAAO,CAACP,KAAxB,CAA8B,CAC1BE,QAAQ,CAACP,UAAU,EAAX,CAAR,CACH,CAFD,IAGI,CACAM,QAAQ,CAACM,OAAO,CAACP,KAAT,CAAR,CACH,CACJ,CACJ,CAfQ,CAeP,CAACE,QAAD,CAAWH,OAAX,CAAoBM,QAApB,CAA8BE,OAA9B,CAAuCE,OAAvC,CAfO,CAAT,CAiBA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAM,CACxBA,CAAC,CAACC,cAAF,GACAb,QAAQ,CAACN,aAAa,CAAC,CAACW,OAAO,CAAEP,KAAV,CAAD,CAAd,CAAR,CACH,CAHD,CAKA,mBACI,KAAC,GAAD,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAACgB,IAAI,CAAC,CAAN,CAASC,MAAM,CAAE,CAAjB,CAAT,uBACI,KAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,uBACI,MAAC,IAAD,CAAM,IAAN,yBACI,gCADJ,cAEI,MAAC,IAAD,EAAM,QAAQ,CAAEJ,aAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,8BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,QAAnB,CAA4B,WAAW,CAAC,cAAxC,CAAuD,KAAK,CAAEb,KAA9D,CAAqE,QAAQ,CAAE,kBAACc,CAAD,QAAOb,CAAAA,QAAQ,CAACa,CAAC,CAACI,MAAF,CAASC,KAAV,CAAf,EAA/E,EAFJ,GADJ,cAKI,MAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,oBAAhC,wBAAqD,UAAG,SAAS,CAAC,aAAb,EAArD,CAAqF,GAArF,UALJ,GAFJ,GADJ,EADJ,EADJ,EADJ,CAkBH,CAtDD,CAwDA,cAAerB,CAAAA,QAAf","sourcesContent":["import React,{ useState, useEffect } from 'react'\r\nimport { Form, Button, Row, Col, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getItemspp, updateItemspp } from '../../actions/settingsAction' \r\n\r\nimport { SETTING_ITEMSPP_UPDATE_RESET } from '../../constants/settingConstants'\r\n\r\nconst Settings = ({history}) => {\r\n    const[items, setItems] = useState(10)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const settingItemspp = useSelector(state => state.settingItemspp)\r\n    const { items: itemspp } = settingItemspp\r\n\r\n    const updateSettingItemspp = useSelector(state => state.updateSettingItemspp)\r\n    const { success } = updateSettingItemspp\r\n\r\n    useEffect(()=>{\r\n        if(!userInfo || !userInfo.isAdmin){\r\n            history.push('/login')\r\n        }\r\n        if(success){\r\n            dispatch({ type: SETTING_ITEMSPP_UPDATE_RESET })\r\n            dispatch(getItemspp())\r\n        }else{\r\n            if(!itemspp || !itemspp.items){\r\n                dispatch(getItemspp())\r\n            }    \r\n            else{\r\n                setItems(itemspp.items)\r\n            }\r\n        } \r\n    },[dispatch, history, userInfo, itemspp, success])\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault()\r\n        dispatch(updateItemspp({itemspp: items}))\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col md={{span:6, offset: 3}}>\r\n                <Card className='m-5'>\r\n                    <Card.Body>\r\n                        <h2>Settings</h2>\r\n                        <Form onSubmit={submitHandler}>\r\n                            <Form.Group controlId='name'>\r\n                                <Form.Label>Items per page:</Form.Label>\r\n                                <Form.Control type='number' placeholder='Enter number' value={items} onChange={(e) => setItems(e.target.value)}></Form.Control>\r\n                            </Form.Group>\r\n                            <Button type='submit' className='btn-dark btn-block'><i className='fas fa-save'></i>{' '}Save</Button>\r\n                        </Form>\r\n                    </Card.Body>\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    )\r\n} \r\n\r\nexport default Settings"]},"metadata":{},"sourceType":"module"}